<!-- Content Header (Page header) -->
<section class="content-header">
    <h3 class="display-hidden">
    </h3>
    <ol class="breadcrumb">
        <li>
            <a href="#">
                <i class="fa fa-dashboard"></i> Trang chủ</a>
        </li>
        <li class="active">Lập đơn</li>
    </ol>
</section>

<section class="content">
    <div class="row">
        <!-- left column -->
        <div class="col-md-8">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Lập đơn yêu cầu công nhận sáng kiến</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
                <form name="form" novalidate role="form" ng-submit="addInitiative()">
                    <div class="box-body">
                        <div class="form-group"  ng-class="{ 'has-error' : form.title.$invalid && !form.title.$pristine }">
                            <label for="send-to">Tên sáng kiến kinh nghiệm</label>
                            <input type="text" name="title" ng-model="initiative.Title" required class="form-control" placeholder="Nhập tại đây...">
                            <span ng-show="form.title.$error.required" class="has-error">Chưa nhập dữ liệu.</span>
                        </div>
                        <div class="form-group" ng-class="{ 'has-error' : form.SendTo.$invalid && !form.SendTo.$pristine }">
                            <label for="send-to">Đơn vị nhận đơn</label>
                            <input type="text" name="sendTo" ng-model="initiative.SendTo" required class="form-control" placeholder="Đơn được gửi đến ai?">
                            <span ng-show="form.sendTo.$error.required" class="has-error">Chưa nhập dữ liệu.</span>
                        </div>
                        <ng-form name="authorform" novalidate>
                            <div class="box-header header-custom">
                                <h3 class="box-title ">Tác giả (nhóm tác giả)</h3>
                                <div class="box-tools">
                                    <table class="row-style">
                                        <tr>
                                            <td>
                                                <button type="button" ng-click="authorform.$valid && addNewAuthor()" class="btn btn-block btn-default btn-sm">
                                                    <i class="fa fa-plus" aria-hidden="true"></i> Thêm tác giả</button>
                                            </td>
                                            <td>
                                                <button ng-hide="!authors.length" type="button" class="btn btn-block btn-danger btn-sm" ng-click="removeAuthor()">
                                                    <i class="fa fa-trash-o" aria-hidden="true"></i> Xóa
                                                </button>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <span ng-show="authorform.$invalid" class="has-error">Thông tin tác giả không được để trống.</span>                            
                            <div class="no-padding">
                                <table class="table ">
                                    <tbody>
                                        <tr>
                                            <th style="width: 10px">
                                                <input type="checkbox" ng-model="selectedAll" ng-click="checkAll()" />
                                            </th>
                                            <th style="width: 120px">Họ và tên</th>
                                            <th style="width: 100px">Ngày sinh</th>
                                            <th style="width: 135px">Nơi công tác (hoặc nơi thường trú)</th>
                                            <th style="width: 100px">Chức danh</th>
                                            <th style="width: 95px">Trình độ chuyên môn</th>
                                            <th>Tỷ lệ đóng góp</th>
                                        </tr>
                                        <tr ng-repeat="author in authors">
                                            <td>
                                                <input type="checkbox" ng-model="author.selected" />
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="author.FullName" required/>
                                            </td>
                                            <td>
                                                <!-- <input type="text" class="form-control" ng-model="author.BirthDay" required/> -->
                                                <input type="date" ng-model="author.BirthDay"  class="form-control" required>
                                                <!-- <input type="text" class="form-control" ng-model="author.BirthDay"  class="form-control" required data-inputmask="'alias': 'dd/mm/yyyy'" data-mask=""> -->
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="author.OrganizationID" required/>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="author.Position" required/>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="author.Qualitification" required/>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="author.ContributionRate" required/>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </ng-form>

                <div class="form-group">
                    <label for="invetor">Chủ đầu tư</label>
                    <input type="text" name="investor"  ng-model="initiative.Investor" class="form-control" placeholder="Chủ đầu tư tạo rao sáng kiến là ai? (Nếu có)">
                </div>
                <div class="form-group">
                    <label>Lĩnh vực</label>
                    <select name="field" ng-model="initiative.FielId" required class="form-control" ng-model="initiative.FieldId" ng-options="option.Id as option.FieldName for option in fields">
                        <option value="">Chọn nhóm lĩnh vực</option>
                    </select>
                    <span ng-show="form.field.$error.required" class="has-error">Phải chọn danh mục</span>
                    <!-- <input type="hidden" name="parentId" ng-model="field.FieldGroupId" /> -->
                </div>
                <!-- <input type="date" name="birthDate" id="deployment-time" class="form-control" required reqired-message="Ngày sinh bắt buộc."> -->
                <div class="form-group" ng-class="{ 'has-error' : form.deploytime.$invalid && !form.birthDate.$pristine }">
                    <label for="deployment-time">Ngày áp dụng</label>

                    <input type="date" ng-model="initiative.DeploymentTime" name="deploytime" class="form-control" required reqired-message="Vui lòng nhập ngày triển khai.">
                </div>

                <div class="box-inside-header">
                    Mô tả bản chất sáng kiến
                </div>

                <div class="form-group">
                    <label>Phân tích tình trạng của giải pháp đã biết</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" name="knowSolution" ng-model="initiative.KnowSolutionContent" required rows="3" placeholder="Nhập văn bản..." ></textarea>
                </div>

                <div class="form-group">
                    <label>Nội dung cải tiến</label>
                    <textarea ckeditor="editorOptions" name="improvedContent" ng-model="initiative.ImprovedContent" required ng-model="model"></textarea>
                </div>

                <div class="form-group">
                    <label>Điều kiện áp dụng</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" name="conditionApply" ng-model="initiative.ConditionApply" required rows="3" placeholder="Nhập văn bản..." ></textarea>
                </div>

                <div class="form-group">
                    <label>Các bước thực hiện</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" name="actionSteps" ng-model="initiative.ActionSteps" required rows="3" placeholder="Nhập văn bản..." ></textarea>

                </div>

                <div class="form-group">
                    <label>Chứng minh khả năng áp dụng</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" name="applicability" ng-model="initiative.InitiativeApplicability" required rows="3" placeholder="Nhập văn bản..." ></textarea>

                </div>

                <div class="form-group">
                    <label>Thông tin bảo mật</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" ng-model="initiative.SecurityInformation" rows="3" placeholder="Nhập văn bản..." ></textarea>

                </div>

                <div class="form-group">
                    <label>Tác giả đánh giá</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control text-area-custom" name="achievedByAuthors" ng-model="initiative.AchievedByAuthors" required rows="3" placeholder="Nhập văn bản..." ></textarea>

                </div>

                <div class="form-group text-area-custom">
                    <label>Tổ chức hoặc cá nhân đánh giá</label>
                    <!-- <textarea ckeditor="editorOptions" ng-model="modelName"></textarea> -->
                    <textarea class="form-control" rows="3" ng-model="initiative.AchievedByAnothers" placeholder="Nhập văn bản..." ></textarea>
                </div>

                <div class="form-group">
                    <label>Tệp thuyết minh đính kèm</label>
                    <input type="file">
                </div>

                </div>
                <!-- /.box-body -->

                <div class="box-footer">
                    <a ui-sref="initiatives" class="btn btn-default">Hủy bỏ</a>
                    <input type="submit" ng-disabled="form.$invalid" class="btn btn-primary" value="Nộp đơn" />
                </div>
                </form>
            </div>

        </div>
        <div class="col-md-4">
            <div class="box box-warning">
                <div class="box-header with-border">
                    Giải thích chi tiết
                </div>
                <div class="box-body">
                    giải thích
                </div>
            </div>
        </div>
    </div>

</section>